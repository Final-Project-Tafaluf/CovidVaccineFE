<!-- [ Main Content ] start -->
<div class="pcoded-main-container">
    <div class="pcoded-content">
        <!-- [ breadcrumb ] start -->
        <div class="page-header">
            <div class="page-block">
                <div class="row align-items-center">
                    <div class="col-md-12">
                        <div class="page-header-title">
                            <h5 class="m-b-10">Manage Schedules</h5>
                        </div>
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a href="index.html"><i class="feather icon-home"></i></a></li>
                            <li class="breadcrumb-item active">Dashboard</li>
                            <li class="breadcrumb-item active">Users</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- [ breadcrumb ] end -->
        <!-- [ Main Content ] start -->
        <div class="row">

            <div class="col-xl-6 col-md-12">
                <div class="card table-card">
                    <div class="card-header">
                        <h5>Schedules</h5>
                        <div class="card-header-right">
                          <div class="btn-group card-option">
                              <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  <i class="feather icon-more-horizontal"></i>
                              </button>
                              <ul class="list-unstyled card-option dropdown-menu dropdown-menu-right">
                                  <li class="dropdown-item full-card"><a href="#!"><span><i class="feather icon-maximize"></i> maximize</span><span style="display:none"><i class="feather icon-minimize"></i> Restore</span></a></li>
                                  <li class="dropdown-item minimize-card"><a href="#!"><span><i class="feather icon-minus"></i> collapse</span><span style="display:none"><i class="feather icon-plus"></i> expand</span></a></li>
                                  <li class="dropdown-item reload-card"><a href="#!"><i class="feather icon-refresh-cw"></i> reload</a></li>
                                  <li class="dropdown-item close-card"><a href="#!"><i class="feather icon-trash"></i> remove</a></li>
                              </ul>
                              <button type="button" class="btn  btn-primary" (click)="openCreateDialog()" ><i class="fas fa-plus"></i> Add New</button>
                          </div>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover mb-0">
                                <thead>
                                    <tr>
                                      <th>Name</th>
                                      <th>dose</th>
                                      <th>status</th>
                                      <th>start_Time</th>
                                      <th>end_Time</th>
                                      <th>center_Id</th>
                                      <th>doctor_name</th>
                                      <th>Operation</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let schedule of manageScheduleRestService.data" >
                                      <td>{{schedule.user_Id}}</td>
                                      <td>{{schedule.dose}}</td>
                                      <td>{{schedule.status }}</td>
                                      <td>{{schedule.start_Time}}</td>
                                      <td>{{schedule.end_Time}}</td>
                                      <td>{{schedule.center_Id}}</td>
                                      <td>{{schedule.doctor_name}}</td>
                                      <td>
                                        <button type="button" class="btn  btn-danger" (click)="openDeleteDialog(schedule.id)">Delete</button>
                                        <button type="button" class="btn  btn-secondary"
                                        (click)="openUpdateDialog(schedule)">Update</button>
                                      </td>
          
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>




        </div>
        <!-- [ Main Content ] end -->
    </div>
</div>
<!-- [ Main Content ] end -->


<ng-template #callCreateDialog>
    <h2 mat-dialog-title>Add Schedule</h2>
    <mat-dialog-content class="mat-typography">
        <form [formGroup]="CreateForm" class="example-form">
          <ul>
            <li>
              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>dose</mat-label>
                <input type="text" matInput formControlName="dose" placeholder="dose">
              </mat-form-field>
            </li>
            <li>
              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>doctor_name</mat-label>
                <input type="text" matInput formControlName="doctor_name" placeholder="doctor_name">
              </mat-form-field>
            </li>
            <div>
                <select id="status" formControlName="status">
                  <!-- <option  [ngValue]="schedule.status" *ngFor="let schedule of manageScheduleRestService.data">
                    {{schedule.status}}
                  </option> -->
                  <option Value="Pending">pending</option>
                  <option Value="Taken">Taken</option>
                  <option Value="Absent">Absent</option>
                </select>
              </div>
            <!-- <li>
              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>status</mat-label>
                <input type="text" matInput formControlName="status" placeholder="status">
              </mat-form-field>
            </li> -->
            <li>
                <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>start_Time</mat-label>
                    <input type="date" matInput formControlName="start_Time" placeholder="start_Time">
                </mat-form-field>
            </li>
            <li>
                <mat-form-field class="example-full-width" appearance="fill">
                  <mat-label>end_Time</mat-label>
                  <input type="date" matInput formControlName="end_Time" placeholder="end_Time">
                </mat-form-field>
            </li>
            <!-- <li>
              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>center_Id</mat-label>
                <input type="text" matInput formControlName="center_Id" placeholder="center_Id">
              </mat-form-field>
            </li> -->
            <li>
              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>user_Id</mat-label>
                <input type="text" matInput formControlName="user_Id" placeholder="user_Id">
              </mat-form-field>
            </li>

    
            <div>
              <select id="centers" formControlName="center_Id">
                <option  [ngValue]="center.id" *ngFor="let center of manageHealthCenterRestService.data">
                  {{center.center_Name}}
                </option>
              </select>
            </div>
    
            <!-- <div>
              <select id="vaccines" formControlName="vaccine_Id">
                <option [ngValue]="vac.id" *ngFor="let vac of manageScheduleRestService.data">
                  {{vac.vaccine_Type}}
                </option>
              </select>
            </div> -->
    
          </ul>
        </form>
    </mat-dialog-content>
    
    
    <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Cancel</button>
    <button [disabled]="!CreateForm.valid" mat-button [mat-dialog-close]="true"(click)="save()"  cdkFocusInitial>Save</button>
    </mat-dialog-actions>
    </ng-template>



<ng-template #callUpdateDialog>
    <form [formGroup]="UpdateForm">
      <ul>
        <li>
          <mat-form-field class="example-full-width" appearance="fill">
            <mat-label>dose</mat-label>
            <input type="text" matInput formControlName="dose"
            [(ngModel)]="schedule.dose">
          </mat-form-field> </li>
          <!-- <li>
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>status</mat-label>
              <input type="date" matInput formControlName="status"
              [(ngModel)]="schedule.status">
            </mat-form-field>
          </li> -->
          <div>
          <select id="status" formControlName="status" >
            <!-- <option  [ngValue]="schedule.status" *ngFor="let schedule of manageScheduleRestService.data">
              {{schedule.status}}
            </option> -->
            <option Value="Pending">pending</option>
            <option Value="Taken">Taken</option>
            <option Value="Absent">Absent</option>
          </select>
        </div>
          <li>
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>start_Time</mat-label>
              <input type="date" matInput formControlName="start_Time"
              [(ngModel)]="schedule.start_Time">
            </mat-form-field>
          </li>
          <li>
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>end_Time</mat-label>
              <input type="date" matInput formControlName="end_Time"
              [(ngModel)]="schedule.end_Time">
            </mat-form-field>
          </li>
          <li>
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>center_Id</mat-label>
              <input type="number" matInput formControlName="center_Id"
              [(ngModel)]="schedule.center_Id">
            </mat-form-field>
          </li>
          <!-- <li>
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>Vaccine Id</mat-label>
              <input type="number" matInput formControlName="vaccine_Id"
              [(ngModel)]="schedule.vaccine_Id">
            </mat-form-field>
          </li> -->
          <li>
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>doctor name</mat-label>
              <input type="text" matInput formControlName="doctor_name"
              [(ngModel)]="schedule.doctor_name">
            </mat-form-field>
          </li>
      </ul>
      <button mat-button [mat-dialog-close]="true" (click)="update()">Update</button>
    </form>
  </ng-template>



<ng-template #callDeleteDialog>
<h2>Are you sure you want to delete this item?</h2>
<mat-dialog-actions align="end">
<button mat-button mat-dialog-close="no">No</button>
<button mat-button mat-dialog-close="yes">Yes</button>
</mat-dialog-actions>
</ng-template>